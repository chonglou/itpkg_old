<div class="btn-group">
    <button id="refresh" class="btn btn-primary">刷新</button>
    <button id="act-output" class="btn btn-default">出口规则</button>
    <button id="act-input" class="btn btn-default">入口规则</button>
    <button id="act-nat" class="btn btn-default">端口映射</button>
    <button id="act-limit" class="btn btn-default">限速规则</button>
    <button id="act-status" class="btn btn-success">当前状态</button>
    <button id="act-clear" class="btn btn-warning">清空规则</button>
    <button id="act-apply" class="btn btn-danger">应用更改</button>
</div>
<div id="firewall-root"></div>
<p>&nbsp;</p>
<script type="text/javascript">
    $(document).ready(function () {
        $("button#refresh").click(function () {
            new Ajax("tab-item-firewall", "/itpkg/{{rid}}/firewall");
        });

        $("button[id^='act-']").click(function () {
            var act = $(this).attr("id").split('-')[1];
            if (act == "output" || act == "input" || act == "nat" || act == "limit" ||
                    act == "status" ||
                    ((act == "apply" || act == "clear") && confirm("你确定要进行此操作么？"))) {
                new Ajax("firewall-root", "/itpkg/{{rid}}/firewall", "PUT", {act: act}, undefined, false);
            }
        });

    });
</script>